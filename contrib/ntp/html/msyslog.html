<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

    <head>
        <meta name="generator" content="HTML Tidy, see www.w3.org">
        <title>ntpd System Log Messages</title>
        <link href="scripts/style.css" type="text/css" rel="stylesheet">
    </head>

    <body>
        <h3><tt>ntpd</tt> System Log Messages</h3>
        <img src="pic/alice47.gif" alt="gif" align="left"><a href="http://www.eecis.udel.edu/~mills/pictures.html">from <i>Alice's Adventures in Wonderland</i>, Lewis Carroll</a>
        <p>The mushroom knows all the error codes, which is more than most of us do.</p>
        <p>Last update: <csobj format="ShortTime" h="24" locale="00000409" region="0" t="DateTime" w="50">02:23</csobj> UTC <csobj format="LongDate" h="24" locale="00000409" region="0" t="DateTime" w="254">Saturday, February 01, 2003</csobj></p>
        <br clear="left">
        <h4>Related Links</h4>
        <p>
            <script type="text/javascript" language="javascript" src="scripts/links7.txt"></script>
        </p>
        <hr>
        <p>You have come here because you found a cryptic message in the system log. This page by no means lists all messages that might be found, since new ones come and old ones go. Generally, however, the most common ones will be found here. They are listed by program module and log severity code in bold: <tt><b>LOG_ERR</b></tt>, <b><tt>LOG_NOTICE</tt></b> and <tt><b>LOG_INFO</b></tt>.</p>
        <p>Most of the time <b><tt>LOG_ERR</tt></b> messages are fatal, but often <tt>ntpd</tt> limps onward in the hopes of discovering more errors. The <tt><b>LOG_NOTICE</b></tt> messages usually mean the time has changed or some other condition that probably should be noticed. The <tt><b>LOG_INFO</b></tt>&nbsp;messages usually say something about the system operations, but do not affect the time.</p>
        <p>In the following a '?' character stands for text in the message. The meaning should be clear from context.</p>
        <h4>Protocol Module</h4>
        <p><tt><b>LOG_ERR</b></tt></p>
        <dl>
            <dt>buffer overflow ?
            <dd>Fatal error. An input packet is too long for processing.
        </dl>
        <p><tt><b>LOG_NOTICE</b></tt></p>
        <dl>
            <dt><tt>no reply; clock not set </tt>
            <dd>In <tt>ntpdate</tt> mode no servers have been found. The server(s) and/or network may be down. Standard debugging procedures apply.
        </dl>
        <p><tt><b>LOG_INFO</b></tt></p>
        <dl>
            <dt><tt>proto_config: illegal item ?, value ? </tt>
            <dd>Program error. Please report to bugs@ntp.org.
            <dt><tt>pps sync enabled </tt>
            <dd>The PPS signal has been detected and enabled.
            <dt><tt>transmit: encryption key ? not found </tt>
            <dd>The key cache is inconsistent. Please report to bugs@ntp.org.
            <dt><tt>precision = ? usec </tt>
            <dd>This reports the precision measured for this machine.
            <dt><tt>using 10ms tick adjustments </tt>
            <dd>Gotcha for some machines with dirty rotten clock hardware.
            <dt><tt>no servers reachable </tt>
            <dd>The system clock is running on internal batteries. The server(s) and/or network may be down.
        </dl>
        <h4>Clock Discipline Module</h4>
        <p><tt><b>LOG_ERR</b></tt></p>
        <dl>
            <dt><tt>time correction of ? seconds exceeds sanity limit (?); set clock manually to the correct UTC time</tt>.
            <dd>Fatal error. Better do what it says, then restart the daemon. Be advised NTP and Unix know nothing about local time zones. The clock must be set to Coordinated Universal Time (UTC). Believe it; by international agreement abbreviations are in French and descriptions are in English.
            <dt><tt>sigaction() fails to save SIGSYS trap: ? </tt>
            <dt><tt>sigaction() fails to restore SIGSYS trap: ? </tt>
            <dd>Program error. Please report to bugs@ntp.org.
        </dl>
        <p><tt><b>LOG_NOTICE</b></tt></p>
        <dl>
            <dt><tt>frequency error ? exceeds tolerance 500 PPM</tt>
            <dd>The hardware clock frequency error exceeds the rate the kernel can correct. This could be a hardware or a kernel problem.            <dt><tt>time slew ? s </tt>
            <dd>The time error exceeds the step threshold and is being slewed to the correct time. You may have to wait a very long time.
            <dt><tt>time reset ? s </tt>
            <dd>The time error exceeds the step threshold and has been reset to the correct time. Computer scientists don't like this, but they can set the <tt>ntpd -x</tt> option and wait forever.
            <dt><tt>kernel time sync disabled ? </tt>
            <dd>The kernel reports an error. See the codes in the <tt>timex.h</tt> file.
            <dt><tt>pps sync disabled </tt>
            <dd>The PPS signal has died, probably due to a dead radio, broken wire or loose connector.
        </dl>
        <p><tt><b>LOG_INFO</b></tt></p>
        <tt>kernel time sync status ? </tt>
        <dl>
            <dd>For information only. See the codes in the <tt>timex.h</tt> file.
        </dl>
        <h4>Cryptographic Module</h4>
        <p><tt><b>LOG_ERR</b></tt></p>
        <dl>
            <dt><tt>cert_parse ? </tt>
            <dt><tt>cert_sign ? </tt>
            <dt><tt>crypto_cert ? </tt>
            <dt><tt>crypto_encrypt ? </tt>
            <dt><tt>crypto_gq ? </tt>
            <dt><tt>crypto_iff ? </tt>
            <dt><tt>crypto_key ? </tt>
            <dt><tt>crypto_mv ? </tt>
            <dt><tt>crypto_setup ? </tt>
            <dt><tt>make_keys ? </tt>
            <dd>Usually fatal errors. These messages display error codes returned from the OpenSSL library. See the OpenSSL documentation for explanation.
            <dt><tt>crypto_setup: certificate ? is trusted, but not self signed. </tt>
            <dt><tt>crypto_setup: certificate ? not for this host </tt>
            <dt><tt>crypto_setup: certificate file ? not found or corrupt </tt>
            <dt><tt>crypto_setup: host key file ? not found or corrupt </tt>
            <dt><tt>crypto_setup: host key is not RSA key type </tt>
            <dt><tt>crypto_setup: random seed file ? not found</tt>
            <dt><tt>crypto_setup: random seed file not specified </tt>
            <dd>Fatal errors. These messages show problems during the initialization procedure.
        </dl>
        <p><tt><b>LOG_INFO</b></tt></p>
        <dl>
            <dt><tt>cert_parse: expired ? </tt>
            <dt><tt>cert_parse: invalid issuer ? </tt>
            <dt><tt>cert_parse: invalid signature ? </tt>
            <dt><tt>cert_parse: invalid subject ? </tt>
            <dd>There is a problem with a certificate. Operation cannot proceed untill the problem is fixed. If the certificate is local, it can be regenerated using the <tt>ntp-keygen</tt> program. If it is held somewhere else, it must be fixed by the holder.
            <dt><tt>crypto_?: defective key </tt>
            <dt><tt>crypto_?: invalid filestamp </tt>
            <dt><tt>crypto_?: missing challenge </tt>
            <dt><tt>crypto_?: scheme unavailable </tt>
            <dd>There is a problem with the identity scheme. Operation cannot proceed untill the problem is fixed. Usually errors are due to misconfiguration or an orphan association. If the latter, <tt>ntpd</tt> will usually time out and recover by itself.
            <dt><tt>crypto_cert: wrong PEM type ? </tt>
            <dd>The certificate does not have MIME type <tt>CERTIFICATE</tt>. You are probably using the wrong type from OpenSSL or an external certificate authority.
            <dt><tt>crypto_ident: no compatible identity scheme found </tt>
            <dd>Configuration error. The server and client identity schemes are incompatible.
            <dt><tt>crypto_tai: kernel TAI update failed </tt>
            <dd>The kernel does not support this function. You may need a new kernel or patch.
            <dt><tt>crypto_tai: leapseconds file ? error ? </tt>
            <dd>The leapseconds file is corrupt. Obtain the latest file from <tt>time.nist.gov</tt>.
        </dl>
        <hr>
        <script type="text/javascript" language="javascript" src="scripts/footer.txt"></script>
    </body>

</html>